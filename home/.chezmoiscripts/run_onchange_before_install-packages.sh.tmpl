#!/bin/bash

set -eufo pipefail

{{ $brews := list
  "bash"
  "chezmoi"
  "commitizen"
  "dockutil"
  "gh"
  "glab"
  "go"
  "nvm"
  "pre-commit"
  "starship"
  "uv" -}}
{{ $casks := list
  "1password"
  "1password-cli"
  "battery"
  "chatgpt"
  "claude"
  "cursor"
  "docker-desktop"
  "font-fira-code-nerd-font"
  "google-drive"
  "microsoft-edge"
  "microsoft-excel"
  "microsoft-powerpoint"
  "microsoft-teams"
  "microsoft-word"
  "notion"
  "notion-calendar"
  "notion-mail"
  "onedrive"
  "raycast"
  "utm"
  "visual-studio-code"
  "warp"
  "windsurf" -}}

brew bundle --file=/dev/stdin <<EOF
{{ range ($brews | sortAlpha | uniq) -}}
brew "{{ . }}"
{{ end -}}
{{ range ($casks | sortAlpha | uniq) -}}
cask "{{ . }}"
{{ end -}}
EOF
